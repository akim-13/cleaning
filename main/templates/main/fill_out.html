<!DOCTYPE html>
<html>

<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'main/css/fill_out.css' %}">
    <title>Форма качества уборки</title>
</head>

<body>

<h1>Форма качества уборки</h1>

<form id="markForm" action="{% url 'fill_out' location=location %}" method="post">
{% csrf_token %}
<table id="tableID">
    <tr>
        <th>Зона</th>
        <th>Оценка</th>
        <th>Утверждена</th>
        <th>Замечания</th>
        <th>Коментарии к замечаниям</th>
    </tr>

    {% for row in rows %}
    <tr>
        <td>{{ row.zone }}</td>
        <td>{{ row.mark }}</td>
        <td>{{ row.approval }}</td>
        <td>{{ row.customer_comment }}</td>
        <td>{{ row.contractor_comment }}</td>
    </tr>
    {% endfor %}

    <tr>
        <td><button type="button" onclick="appendRow()">+</button></td>
    </tr>
    
</table>
</form>
<button type="button" onclick="submitForms()">Готово</button>


<p>Пример таблицы:</p>

<table>
    <tr>
        <th>Время</th>
        <th>Зона</th>
        <th>Оценка</th>
        <th>Подтверждение</th>
        <th>Замечания</th>
        <th>Исправление замечания</th>
    </tr>
    <tr>
        <td rowspan="4">9:00</td>
        <td>Входная зона</td>
        <td>от 0 до 5</td>
        <td>да/нет</td>
        <td>обязательно: текст, время<br>потенциально: фото</td>
        <td>обязательно: текст, время<br>потенциально: фото</td>
    </tr>
    <tr>
        <form id="markForm" action="{% url 'fill_out' location=location %}" method="post">
            {% csrf_token %}
            <td> {{ form.zone }} </td>
            <td> {{ form.mark }} </td>
            <td> {{ form.is_approved }} </td>
            <td></td>
            <td></td>
        </form>
    </tr>
    <tr>
        <td>фудкорт</td>
        <td>5</td>
        <td>да</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>...</td>
        <td>5</td>
        <td>да</td>
        <td></td>
        <td></td>
    </tr>

    <tr>
        <td rowspan="2">9:30</td>
        <td>туалет</td>
        <td>5</td>
        <td>да</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>+</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>

<script src="{% static 'main/js/fill_out.js' %}"></script>

</body>
</html>